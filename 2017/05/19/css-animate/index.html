<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="NydsfegOwByCjRHlsALJrDim7rnSUjlmlyYXDyqgDTU" />













  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="动画,css,css3,animate,transition," />





  <link rel="alternate" href="/atom.xml" title="老杨博客" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="本文初步探讨一下基于CSS的动画，主要对Transition和Animate两种方式的各种属性及其含义，通过示例进行对比。">
<meta property="og:type" content="article">
<meta property="og:title" content="CSS动画初探">
<meta property="og:url" content="http://heneryyang.github.io/2017/05/19/css-animate/index.html">
<meta property="og:site_name" content="老杨博客">
<meta property="og:description" content="本文初步探讨一下基于CSS的动画，主要对Transition和Animate两种方式的各种属性及其含义，通过示例进行对比。">
<meta property="og:image" content="http://heneryyang.github.io/2017/05/19/css-animate/banner.jpg">
<meta property="og:image" content="http://heneryyang.github.io/2017/05/19/css-animate/pierre-bezier.jpg">
<meta property="og:image" content="http://heneryyang.github.io/2017/05/19/css-animate/bezier-four-points.gif">
<meta property="og:image" content="http://heneryyang.github.io/2017/05/19/css-animate/steps.png">
<meta property="og:updated_time" content="2017-05-19T08:07:32.610Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CSS动画初探">
<meta name="twitter:description" content="本文初步探讨一下基于CSS的动画，主要对Transition和Animate两种方式的各种属性及其含义，通过示例进行对比。">
<meta name="twitter:image" content="http://heneryyang.github.io/2017/05/19/css-animate/banner.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://heneryyang.github.io/2017/05/19/css-animate/"/>





  <title> CSS动画初探 | 老杨博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  







  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=61519133";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



<script>
  	var _mtac = {};
  	(function() {
  		var mta = document.createElement("script");
  		mta.src = "https://pingjs.qq.com/h5/stats.js?v2.0.2";
  		mta.setAttribute("name", "MTAH5");
  		mta.setAttribute("sid", "500426631");

  		var s = document.getElementsByTagName("script")[0];
  		s.parentNode.insertBefore(mta, s);
  	})();
</script>






  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">老杨博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">一个老码农的技术博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://heneryyang.github.io/2017/05/19/css-animate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="老杨">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老杨博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                CSS动画初探
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-19T16:06:08+08:00">
                2017-05-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端-css/" itemprop="url" rel="index">
                    <span itemprop="name">前端 - css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="/2017/05/19/css-animate/banner.jpg" alt="CSS动画初探"><br>本文初步探讨一下基于CSS的动画，主要对<code>Transition</code>和<code>Animate</code>两种方式的各种属性及其含义，通过示例进行对比。<br><a id="more"></a></p>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h1 id="CSS-Transition"><a href="#CSS-Transition" class="headerlink" title="CSS Transition"></a>CSS Transition</h1><p>CSS3 过渡是元素从一种样式逐渐改变为另一种的效果。</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>transition</td>
<td>简写属性，用于在一个属性中设置四个过渡属性。</td>
</tr>
<tr>
<td>transition-property</td>
<td>规定应用过渡的 CSS 属性的名称。</td>
</tr>
<tr>
<td>transition-duration</td>
<td>定义过渡效果花费的时间，默认是<code>0</code>。</td>
</tr>
<tr>
<td>transition-timing-function</td>
<td>规定过渡效果的时间曲线，默认是<code>ease</code>。</td>
</tr>
<tr>
<td>transition-delay</td>
<td>规定过渡效果何时开始，默认是<code>0</code>。</td>
</tr>
</tbody>
</table>
<h2 id="transition取值"><a href="#transition取值" class="headerlink" title="transition取值"></a>transition取值</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">transition-property</span> <span class="selector-tag">transition-duration</span> <span class="selector-tag">transition-timing-function</span> <span class="selector-tag">transition-delay</span>;</div></pre></td></tr></table></figure>
<p>例如<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">div</span> &#123;</div><div class="line">    <span class="attribute">transition</span>: width <span class="number">1s</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="transition-timing-funciton取值"><a href="#transition-timing-funciton取值" class="headerlink" title="transition-timing-funciton取值"></a>transition-timing-funciton取值</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">transition-timing-funciton: linear | ease | ease-in | ease-out | ease-in-out | cubic-bezier( &lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;) | step-start | step-end | stpes( &lt;integer&gt; [, [ start | end ] ]? );</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>linear</td>
<td>规定以相同速度开始至结束的过渡效果（等于<code>cubic-bezier(0,0,1,1)</code>）。</td>
</tr>
<tr>
<td>ease</td>
<td>默认值，规定慢速开始，然后变快，然后慢速结束的过渡效果（<code>cubic-bezier(0.25,0.1,0.25,1)</code>）。</td>
</tr>
<tr>
<td>ease-in</td>
<td>规定以慢速开始的过渡效果（等于<code>cubic-bezier(0.42,0,1,1)</code>）。</td>
</tr>
<tr>
<td>ease-out</td>
<td>规定以慢速结束的过渡效果（等于<code>cubic-bezier(0,0,0.58,1)</code>）。</td>
</tr>
<tr>
<td>ease-in-out</td>
<td>规定以慢速开始和结束的过渡效果（等于<code>cubic-bezier(0.42,0,0.58,1)</code>）。</td>
</tr>
<tr>
<td>cubic-bezier(n,n,n,n)</td>
<td>在<code>cubic-bezier</code>函数中定义自己的值，<code>n</code>的值是<code>0</code>至<code>1</code>之间的数值。</td>
</tr>
<tr>
<td>step-start</td>
<td><code>steps(1,start)</code></td>
</tr>
<tr>
<td>step-end</td>
<td><code>steps(1,end)</code></td>
</tr>
<tr>
<td>steps()</td>
<td>阶跃函数</td>
</tr>
</tbody>
</table>
<h3 id="cubic-bezier三次贝塞尔曲线"><a href="#cubic-bezier三次贝塞尔曲线" class="headerlink" title="cubic-bezier三次贝塞尔曲线"></a>cubic-bezier三次贝塞尔曲线</h3><p><strong><a href="http://baike.baidu.com/link?url=JCF4JQoT9py5qpewbD5tY2CimZ6ALBZv6k6j_s-l9befAWvvZS0zD5pvmF-TG98T1uhd7VMO8QZVIqtCGCxLgtLJi5tas8LX95xJvUNGWy9D8F8vKj-ik_HlB1Hlxng_" target="_blank" rel="external">贝赛尔曲线</a></strong>是由法国数学家<strong>Pierre Bézier</strong>所发明，由此为计算机矢量图形学奠定了基础。它的主要意义在于无论是直线或曲线都能在数学上予以描述。<br><img src="/2017/05/19/css-animate/pierre-bezier.jpg" alt="Pierre Bézier"></p>
<p>一个标准的3次贝塞尔曲线需要4个点：起始点、终止点（也称锚点）以及两个相互分离的中间点。<br><img src="/2017/05/19/css-animate/bezier-four-points.gif" alt="贝塞尔曲线的四个点"><br><code>cubic-bezier</code>的<strong>起始点</strong>和<strong>终止点</strong>固定为<code>(0,0)</code>和<code>(1,1)</code>，cubic-bezier(x1, y1, x2, y2)</p>
<p>三次贝塞尔曲线，可以用贝塞尔曲线生成器<a href="http://cubic-bezier.com/" target="_blank" rel="external">英文版</a>或<a href="http://yisibl.github.io/cubic-bezier/" target="_blank" rel="external">中文版</a>来定制</p>
<h3 id="steps阶跃函数"><a href="#steps阶跃函数" class="headerlink" title="steps阶跃函数"></a>steps阶跃函数</h3><p><strong><a href="http://baike.baidu.com/link?url=xEdmUD8eSteRBX2y1iK7M-dbJ3IcKocezWYmkghn81kLdUWioJiVBNdIWhI9A8WmJdkKESN9nGuHGV0vfSVt5yfmsIILE-PK0Hyqgzez78yL0Z4vIhDlZ_Gz8x1sDXAc" target="_blank" rel="external">阶跃函数</a></strong>是一种特殊的连续时间函数，属于奇异函数。</p>
<p><img src="/2017/05/19/css-animate/steps.png" alt="steps原理"></p>
<h2 id="多属性支持"><a href="#多属性支持" class="headerlink" title="多属性支持"></a>多属性支持</h2><p>如需向多个样式添加过渡效果，请添加多个属性，由逗号隔开<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">    <span class="attribute">border-style</span>: solid;</div><div class="line">    <span class="attribute">border-width</span>: <span class="number">1px</span>;</div><div class="line">    <span class="attribute">display</span>: block;</div><div class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#0000FF</span>;</div><div class="line">    <span class="attribute">-webkit-transition</span>: width <span class="number">2s</span>, height <span class="number">2s</span>, background-color <span class="number">2s</span>, -webkit-transform <span class="number">2s</span>;</div><div class="line">    <span class="attribute">transition</span>: width <span class="number">2s</span>, height <span class="number">2s</span>, background-color <span class="number">2s</span>, transform <span class="number">2s</span>;</div><div class="line">&#125;</div><div class="line">        </div><div class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:hover</span> &#123;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#FFCCCC</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</div><div class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(180deg);</div><div class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(180deg);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<iframe src="/static/demo/css-animate/demo1.html" width="100%" height="300" frameborder="0" allowfullscreen></iframe>
<h2 id="各属性使用范例"><a href="#各属性使用范例" class="headerlink" title="各属性使用范例"></a>各属性使用范例</h2><h3 id="transition-duration范例"><a href="#transition-duration范例" class="headerlink" title="transition-duration范例"></a>transition-duration范例</h3><iframe src="/static/demo/css-animate/transition-duration-demo.html" width="100%" height="360" frameborder="0" allowfullscreen></iframe>
<h3 id="transition-delay范例"><a href="#transition-delay范例" class="headerlink" title="transition-delay范例"></a>transition-delay范例</h3><iframe src="/static/demo/css-animate/transition-delay-demo.html" width="100%" height="360" frameborder="0" allowfullscreen></iframe>
<h3 id="transition-timing-function范例"><a href="#transition-timing-function范例" class="headerlink" title="transition-timing-function范例"></a>transition-timing-function范例</h3><iframe src="/static/demo/css-animate/transition-timing-function-demo.html" width="100%" height="660" frameborder="0" allowfullscreen></iframe>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><code>transition</code>动画比较简单，<code>animation</code>动画功能更强，可以实现更加复杂的动画效果。</p>
<h1 id="CSS-Animation"><a href="#CSS-Animation" class="headerlink" title="CSS Animation"></a>CSS Animation</h1><table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>animation</td>
<td>简写属性，用于在一个属性中设置四个过渡属性。</td>
</tr>
<tr>
<td>animation-name</td>
<td>指定要绑定到选择器的关键帧的名称</td>
</tr>
<tr>
<td>animation-duration</td>
<td>规定完成动画所花费的时间，以秒或毫秒计，默认是<code>0</code>。</td>
</tr>
<tr>
<td>animation-timing-function</td>
<td>规定过渡效果的时间曲线，默认是<code>ease</code>。</td>
</tr>
<tr>
<td>animation-delay</td>
<td>规定过渡效果何时开始，默认是<code>0</code>。</td>
</tr>
<tr>
<td>animation-iteration-count</td>
<td>规定动画应该播放的次数，默认值<code>1</code>。</td>
</tr>
<tr>
<td>animation-direction</td>
<td>指定是否应该轮流反向播放动画，默认值<code>normal</code></td>
</tr>
<tr>
<td>animation-fill-mode</td>
<td>规定当动画不播放时（当动画完成时，或当动画有一个延迟未开始播放时），要应用到元素的样式。</td>
</tr>
<tr>
<td>animation-play-state</td>
<td>指定动画是否正在运行或已暂停。</td>
</tr>
</tbody>
</table>
<p>语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">animation: name duration timing-function delay iteration-count direction</div></pre></td></tr></table></figure></p>
<h2 id="keyframes"><a href="#keyframes" class="headerlink" title="@keyframes"></a>@keyframes</h2><p>通过 @keyframes 规则，您能够创建动画。<br>创建动画的原理是，将一套 CSS 样式逐渐变化为另一套样式。<br>在动画过程中，您能够多次改变这套 CSS 样式。<br>以百分比来规定改变发生的时间，或者通过关键词 “from” 和 “to”，等价于 0% 和 100%。<br>0% 是动画的开始时间，100% 动画的结束时间。<br>为了获得最佳的浏览器支持，您应该始终定义 0% 和 100% 选择器。<br>注释：请使用动画属性来控制动画的外观，同时将动画与选择器绑定。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@keyframes animationname &#123;keyframes-selector &#123;css-styles;&#125;&#125;</div></pre></td></tr></table></figure>
<h3 id="属性值"><a href="#属性值" class="headerlink" title="属性值"></a>属性值</h3><table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>animationname</td>
<td>必需。定义动画的名称。</td>
</tr>
<tr>
<td>keyframes-selector</td>
<td>必需。动画时长的百分比。<br>合法的值：0-100% <br>from（与 0% 相同）<br>to（与 100% 相同）</td>
</tr>
<tr>
<td>css-styles</td>
<td>必需。一个或多个合法的 CSS 样式属性。</td>
</tr>
</tbody>
</table>
<h2 id="animation-name"><a href="#animation-name" class="headerlink" title="animation-name"></a>animation-name</h2><h3 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">animation-name: keyframename |none;</div></pre></td></tr></table></figure>
<h3 id="属性值-1"><a href="#属性值-1" class="headerlink" title="属性值"></a>属性值</h3><table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>keyframename</td>
<td>规定需要绑定到选择器的 keyframe 的名称。</td>
</tr>
<tr>
<td>none</td>
<td>规定无动画效果（可用于覆盖来自级联的动画）。</td>
</tr>
</tbody>
</table>
<p>animation-name 属性为 @keyframes 动画规定名称，例如<code>demo</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@keyframes demo &#123;</div><div class="line">  0% &#123; background: #c00; &#125;</div><div class="line">  50% &#123; background: orange; &#125;</div><div class="line">  100% &#123; background: yellowgreen; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="animation-duration"><a href="#animation-duration" class="headerlink" title="animation-duration"></a>animation-duration</h2><p>该属性和上面讲过的<code>transition-duration</code>类似。</p>
<h2 id="animation-timing-function"><a href="#animation-timing-function" class="headerlink" title="animation-timing-function"></a>animation-timing-function</h2><p>该属性和上面讲过的<code>transition-timing-function</code>类似。</p>
<h2 id="animation-delay"><a href="#animation-delay" class="headerlink" title="animation-delay"></a>animation-delay</h2><p>该属性和上面讲过的<code>transition-delay</code>类似。</p>
<h2 id="animation-iteration-count"><a href="#animation-iteration-count" class="headerlink" title="animation-iteration-count"></a>animation-iteration-count</h2><h3 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">animation-iteration-count: n | infinite;</div></pre></td></tr></table></figure>
<h3 id="属性值-2"><a href="#属性值-2" class="headerlink" title="属性值"></a>属性值</h3><table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>n</td>
<td>定义动画播放次数的数值。</td>
</tr>
<tr>
<td>infinite</td>
<td>规定动画应该无限次播放。</td>
</tr>
</tbody>
</table>
<h2 id="animation-direction"><a href="#animation-direction" class="headerlink" title="animation-direction"></a>animation-direction</h2><h3 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">animation-direction: normal | reverse | alternate | alternate-reverse;</div></pre></td></tr></table></figure>
<h3 id="属性值-3"><a href="#属性值-3" class="headerlink" title="属性值"></a>属性值</h3><table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>normal</td>
<td>默认值，动画按正常播放。</td>
</tr>
<tr>
<td>reverse</td>
<td>动画反向播放。</td>
</tr>
<tr>
<td>alternate</td>
<td>动画在奇数次（1、3、5…）正向播放，在偶数次（2、4、6…）反向播放。</td>
</tr>
<tr>
<td>alternate-reverse</td>
<td>动画在奇数次（1、3、5…）反向播放，在偶数次（2、4、6…）正向播放。</td>
</tr>
</tbody>
</table>
<iframe src="/static/demo/css-animate/animation-direction-demo.html" width="100%" height="360" frameborder="0" allowfullscreen></iframe>
<h2 id="animation-fill-mode"><a href="#animation-fill-mode" class="headerlink" title="animation-fill-mode"></a>animation-fill-mode</h2><p>动画结束以后，会立即从结束状态跳回到起始状态。如果想让动画保持在结束状态，需要使用animation-fill-mode属性。</p>
<h3 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">animation-fill-mode: none|forwards|backwards|both|initial|inherit;</div></pre></td></tr></table></figure>
<h3 id="属性值-4"><a href="#属性值-4" class="headerlink" title="属性值"></a>属性值</h3><table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>none</td>
<td>默认值。动画在动画执行之前和之后不会应用任何样式到目标元素。</td>
</tr>
<tr>
<td>forwards</td>
<td>在动画结束后（由 animation-iteration-count 决定），动画将应用该属性值。</td>
</tr>
<tr>
<td>backwards</td>
<td>动画将应用在 animation-delay 定义期间启动动画的第一次迭代的关键帧中定义的属性值。这些都是 from 关键帧中的值（当 animation-direction 为 “normal” 或 “alternate” 时）或 to 关键帧中的值（当 animation-direction 为 “reverse” 或 “alternate-reverse” 时）。</td>
</tr>
<tr>
<td>both</td>
<td>动画遵循 forwards 和 backwards 的规则。也就是说，动画会在两个方向上扩展动画属性。</td>
</tr>
</tbody>
</table>
<h2 id="animation-play-state"><a href="#animation-play-state" class="headerlink" title="animation-play-state"></a>animation-play-state</h2><p><code>animation-play-state</code>用来指定动画是否正在运行或已暂停，一般有两种使用场景：</p>
<ul>
<li>通过修改该值<code>paused</code>/<code>running</code>可以控制动画的播放和停止</li>
<li>默认情况下当动画播放工程中，如果中断，这时会跳回到动画开始状态，可以通过设置该值，让动画保持在中断时的状态</li>
</ul>
<h3 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">animation-play-state: paused | running;</div></pre></td></tr></table></figure>
<h3 id="属性值-5"><a href="#属性值-5" class="headerlink" title="属性值"></a>属性值</h3><table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>paused</td>
<td>指定暂停动画</td>
</tr>
<tr>
<td>running</td>
<td>指定正在运行的动画</td>
</tr>
</tbody>
</table>
<h1 id="第三方动画库"><a href="#第三方动画库" class="headerlink" title="第三方动画库"></a>第三方动画库</h1><h2 id="animate-css"><a href="#animate-css" class="headerlink" title="animate.css"></a>animate.css</h2><p>animate.css是来自dropbox的工程师Daniel Eden开发的一款CSS3的动画效果小类库。包含了60多款不同类型的CSS3动画，包括：晃动，闪动，各种淡出淡出效果，如果你想快速的整合各种CSS3动画特效的话，使用它即可方便的实现。</p>
<p>animate.css is a bunch of cool, fun, and cross-browser animations for you to use in your projects. Great for emphasis, home pages, sliders, and general just-add-water-awesomeness.</p>
<p><a href="https://github.com/daneden/animate.css" target="_blank" rel="external">github</a><br><a href="https://daneden.github.io/animate.css/" target="_blank" rel="external">演示</a></p>
<h2 id="magic-css"><a href="#magic-css" class="headerlink" title="magic.css"></a>magic.css</h2><p><a href="https://github.com/miniMAC/magic" target="_blank" rel="external">github</a><br><a href="https://minimamente.com/example/magic_animations/" target="_blank" rel="external">演示</a></p>
<h2 id="Effect-css"><a href="#Effect-css" class="headerlink" title="Effect.css"></a>Effect.css</h2><p>针对不同UI的CSS3动画和过渡效果集，包含了丰富的CSS3动画和过渡效果</p>
<p><a href="https://github.com/h5bp/Effeckt.css" target="_blank" rel="external">github</a><br><a href="http://www.gbtags.com/gb/linkviewer/3147.htm" target="_blank" rel="external">演示</a></p>
<h2 id="hover-css"><a href="#hover-css" class="headerlink" title="hover.css"></a>hover.css</h2><p>A collection of CSS3 powered hover effects to be applied to links, buttons, logos, SVG, featured images and so on. Easily apply to your own elements, modify or just use for inspiration. Available in CSS, Sass, and LESS.</p>
<p><a href="https://github.com/IanLunn/Hover" target="_blank" rel="external">github</a><br><a href="http://ianlunn.github.io/Hover/" target="_blank" rel="external">演示</a></p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions" target="_blank" rel="external">Using CSS transitions</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations" target="_blank" rel="external">Using CSS animations</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2014/02/css_transition_and_animation.html" target="_blank" rel="external">CSS动画简介</a></li>
<li><a href="http://www.zhangxinxu.com/wordpress/2013/08/贝塞尔曲线-cubic-bezier-css3动画-svg-canvas/" target="_blank" rel="external">贝塞尔曲线与CSS3动画、SVG和canvas的基情</a></li>
<li><a href="http://blog.csdn.net/zhaozjc112/article/details/52909172" target="_blank" rel="external">CSS3 三次贝塞尔曲线(cubic-bezier)</a></li>
<li><a href="http://blog.csdn.net/kongjunchao159/article/details/52847020" target="_blank" rel="external">animation阶跃函数step详解</a></li>
<li><a href="http://www.tuicool.com/articles/neqMVr" target="_blank" rel="external">CSS3 timing-function: steps() 详解</a></li>
<li><a href="http://www.cnblogs.com/BATAKK/p/5301819.html" target="_blank" rel="external">animation中的steps()逐帧动画</a></li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>坚持原创技术分享，您的支持将鼓励我继续创作！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/uploads/wechatpay.jpeg" alt="老杨 WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/uploads/alipay.jpeg" alt="老杨 Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/动画/" rel="tag"># 动画</a>
          
            <a href="/tags/css/" rel="tag"># css</a>
          
            <a href="/tags/css3/" rel="tag"># css3</a>
          
            <a href="/tags/animate/" rel="tag"># animate</a>
          
            <a href="/tags/transition/" rel="tag"># transition</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/04/07/css-flex/" rel="next" title="Flexbox布局总结">
                <i class="fa fa-chevron-left"></i> Flexbox布局总结
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/05/23/hello-openresty/" rel="prev" title="OpenResty技术预研">
                OpenResty技术预研 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        
  <div class="bdsharebuttonbox">
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
    <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
    <a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
    <a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a>
    <a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a>
    <a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
    <a href="#" class="bds_more" data-cmd="more"></a>
    <a class="bds_count" data-cmd="count"></a>
  </div>
  <script>
    window._bd_share_config = {
      "common": {
        "bdText": "",
        "bdMini": "2",
        "bdMiniList": false,
        "bdPic": ""
      },
      "share": {
        "bdSize": "16",
        "bdStyle": "0"
      },
      "image": {
        "viewList": ["tsina", "douban", "sqq", "qzone", "weixin", "twi", "fbook"],
        "viewText": "分享到：",
        "viewSize": "16"
      }
    }
  </script>

<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="老杨" />
          <p class="site-author-name" itemprop="name">老杨</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">35</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="uploads/wechat.jpeg" target="_blank" title="微信">
                  
                    <i class="fa fa-fw fa-wechat"></i>
                  
                  微信
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:heneryyang@gmail.com" target="_blank" title="邮箱">
                  
                    <i class="fa fa-fw fa-google"></i>
                  
                  邮箱
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="tencent://message/?uin=24992316&Site=&Menu=yes" target="_blank" title="QQ">
                  
                    <i class="fa fa-fw fa-qq"></i>
                  
                  QQ
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/heneryyang" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#概述"><span class="nav-number">1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CSS-Transition"><span class="nav-number">2.</span> <span class="nav-text">CSS Transition</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#transition取值"><span class="nav-number">2.1.</span> <span class="nav-text">transition取值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#transition-timing-funciton取值"><span class="nav-number">2.2.</span> <span class="nav-text">transition-timing-funciton取值</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#cubic-bezier三次贝塞尔曲线"><span class="nav-number">2.2.1.</span> <span class="nav-text">cubic-bezier三次贝塞尔曲线</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#steps阶跃函数"><span class="nav-number">2.2.2.</span> <span class="nav-text">steps阶跃函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多属性支持"><span class="nav-number">2.3.</span> <span class="nav-text">多属性支持</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#各属性使用范例"><span class="nav-number">2.4.</span> <span class="nav-text">各属性使用范例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#transition-duration范例"><span class="nav-number">2.4.1.</span> <span class="nav-text">transition-duration范例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#transition-delay范例"><span class="nav-number">2.4.2.</span> <span class="nav-text">transition-delay范例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#transition-timing-function范例"><span class="nav-number">2.4.3.</span> <span class="nav-text">transition-timing-function范例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">2.5.</span> <span class="nav-text">总结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CSS-Animation"><span class="nav-number">3.</span> <span class="nav-text">CSS Animation</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#keyframes"><span class="nav-number">3.1.</span> <span class="nav-text">@keyframes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法"><span class="nav-number">3.1.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性值"><span class="nav-number">3.1.2.</span> <span class="nav-text">属性值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#animation-name"><span class="nav-number">3.2.</span> <span class="nav-text">animation-name</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法-1"><span class="nav-number">3.2.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性值-1"><span class="nav-number">3.2.2.</span> <span class="nav-text">属性值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#animation-duration"><span class="nav-number">3.3.</span> <span class="nav-text">animation-duration</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#animation-timing-function"><span class="nav-number">3.4.</span> <span class="nav-text">animation-timing-function</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#animation-delay"><span class="nav-number">3.5.</span> <span class="nav-text">animation-delay</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#animation-iteration-count"><span class="nav-number">3.6.</span> <span class="nav-text">animation-iteration-count</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法-2"><span class="nav-number">3.6.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性值-2"><span class="nav-number">3.6.2.</span> <span class="nav-text">属性值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#animation-direction"><span class="nav-number">3.7.</span> <span class="nav-text">animation-direction</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法-3"><span class="nav-number">3.7.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性值-3"><span class="nav-number">3.7.2.</span> <span class="nav-text">属性值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#animation-fill-mode"><span class="nav-number">3.8.</span> <span class="nav-text">animation-fill-mode</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法-4"><span class="nav-number">3.8.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性值-4"><span class="nav-number">3.8.2.</span> <span class="nav-text">属性值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#animation-play-state"><span class="nav-number">3.9.</span> <span class="nav-text">animation-play-state</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法-5"><span class="nav-number">3.9.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性值-5"><span class="nav-number">3.9.2.</span> <span class="nav-text">属性值</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第三方动画库"><span class="nav-number">4.</span> <span class="nav-text">第三方动画库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#animate-css"><span class="nav-number">4.1.</span> <span class="nav-text">animate.css</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#magic-css"><span class="nav-number">4.2.</span> <span class="nav-text">magic.css</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Effect-css"><span class="nav-number">4.3.</span> <span class="nav-text">Effect.css</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hover-css"><span class="nav-number">4.4.</span> <span class="nav-text">hover.css</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考"><span class="nav-number">5.</span> <span class="nav-text">参考</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">老杨</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

</body>
</html>
